import{_ as y,q as C,a as i,b as c,d as e,t as s,F as b,g as k,B as r,s as w,l as P,h as x}from"./index-c8a6b03f.js";const D={class:"poem-card-header"},B={class:"poem-category"},F={class:"poem-date"},T={class:"poem-card-body"},$={class:"poem-title"},q={class:"poem-description"},N={class:"poem-preview"},z={class:"poem-card-footer"},L={class:"poem-tags"},S=["onClick"],V={key:0,class:"tag-more"},j={class:"poem-actions"},E={__name:"PoemCard",props:{poem:{type:Object,required:!0}},setup(t){const a=t,m=C(),l=x(!1),u=o=>new Date(o).toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric"}),h=o=>o.replace(/\n/g," ").substring(0,100)+(o.length>100?"...":""),g=()=>{m.push({name:"PoemDetail",params:{id:a.poem.id}})},v=o=>{m.push({path:"/poems",query:{tag:o}})},p=async()=>{try{await navigator.clipboard.writeText(`${a.poem.title}

${a.poem.content}`),alert("已复制到剪贴板")}catch(o){console.error("复制失败:",o)}},_=()=>{l.value=!l.value},f=()=>{navigator.share?navigator.share({title:a.poem.title,text:a.poem.description,url:window.location.origin+`/poem/${a.poem.id}`}):(p(),alert("链接已复制到剪贴板"))};return(o,n)=>(i(),c("div",{class:"poem-card card",onClick:g},[e("div",D,[e("div",B,s(t.poem.category),1),e("div",F,s(u(t.poem.date)),1)]),e("div",T,[e("h3",$,s(t.poem.title),1),e("p",q,s(t.poem.description),1),e("div",N,s(h(t.poem.content)),1)]),e("div",z,[e("div",L,[(i(!0),c(b,null,k(t.poem.tags.slice(0,3),d=>(i(),c("span",{key:d,class:"tag",onClick:r(I=>v(d),["stop"])},s(d),9,S))),128)),t.poem.tags.length>3?(i(),c("span",V,"+"+s(t.poem.tags.length-3),1)):w("",!0)]),e("div",j,[e("button",{class:"action-btn",onClick:r(p,["stop"]),title:"复制"},[...n[0]||(n[0]=[e("i",{class:"far fa-copy"},null,-1)])]),e("button",{class:"action-btn",onClick:r(_,["stop"]),title:"收藏"},[e("i",{class:P(l.value?"fas fa-heart":"far fa-heart")},null,2)]),e("button",{class:"action-btn",onClick:r(f,["stop"]),title:"分享"},[...n[1]||(n[1]=[e("i",{class:"fas fa-share-alt"},null,-1)])])])])]))}},O=y(E,[["__scopeId","data-v-59c41ded"]]);export{O as P};
